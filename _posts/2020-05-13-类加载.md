---
title: 类加载
tags: JVM
---

[toc]

# 类加载

在java代码中，`类型`的`加载`，`连接`，`初始化`过程都是在程序运行期间完成的

## java结束生命周期

1. 执行System.exit()
2. 程序正常结束
3. 异常或错误
4. 操作系统出错

## 类的加载，连接，初始化

1. 加载：查找并加载类的二进制数据，将class文件的二进制数据读入内存，将其放到运行时数据区的方法区内，然后在内存中创建一个java.lang.Class对象来封装类在方法区内的数据结构
2. 连接：
   1. 验证：确保加载类的准确性
   2. 准备：为类的`静态变量`分配内存，并初始胡为`默认值`
   3. 解析：把类中的`符号引用`转换为`直接引用`
3. 初始化:`为静态变量赋初始值`

## 类的使用

主动使用
1. 创建类的实例
2. 访问类或者接口静态变量(getstatice)，或者对静态变量赋值(putstatice)
3. 调用静态方法(invokestatic)
4. 反射
5. 初始化类的子类
6. java虚拟机启动时被标明的启动类
7. 动态语言支持

## 被动使用