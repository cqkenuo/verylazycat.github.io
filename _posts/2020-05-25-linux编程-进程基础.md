---
title: linux编程-进程基础
tags: linux
---

[toc]

# 进程标示符pid

类型:pid_t

命令:ps

- getpid
- getppid

```c
#include <sys/types.h>
#include <unistd.h>
pid_t getpid(void);
pid_t getppid(void);
```

# 进程产生

- fork
- vfork

```c
#include <sys/types.h>
#include <unistd.h>
pid_t fork(void);
```

```c
#include <sys/types.h>
#include <unistd.h>
pid_t vfork(void);
Feature Test Macro Requirements for glibc (see feature_test_macros(7)):
vfork():
Since glibc 2.12:
(_XOPEN_SOURCE >= 500) && ! (_POSIX_C_SOURCE >= 200809L)
|| /* Since glibc 2.19: */ _DEFAULT_SOURCE
|| /* Glibc versions <= 2.19: */ _BSD_SOURCE
Before glibc 2.12:
_BSD_SOURCE || _XOPEN_SOURCE >= 500
```

fork()  creates  a new process by duplicating the calling process.  The
       new process is referred to as the child process.  The  calling  process
       is referred to as the parent process.

fork后父子进程区别:

1. 返回值不同
2. pid不同,ppid不同
3. 未决信号和文件锁不继承
4. 资源利用量清0

init进程:1号,是所有的进程的祖先进程

`调度器的调度策略决定那个进程先运行`

在fork之前,尽量刷新所有的流:fflush<很重要>

# 进程消亡以及资源释放

- wait
- waitpid
- waitid
- wait3
- wait4

```c
#include <sys/types.h>
#include <sys/wait.h>
pid_t wait(int *wstatus);
pid_t waitpid(pid_t pid, int *wstatus, int options);
int waitid(idtype_t idtype, id_t id, siginfo_t *infop, int options);
/* This is the glibc and POSIX interface; see
NOTES for information on the raw system call. */
Feature Test Macro Requirements for glibc (see feature_test_macros(7)):
waitid():
Since glibc 2.26: _XOPEN_SOURCE >= 500 ||
_POSIX_C_SOURCE >= 200809L
Glibc 2.25 and earlier:
_XOPEN_SOURCE
|| /* Since glibc 2.12: */ _POSIX_C_SOURCE >= 200809L
|| /* Glibc versions <= 2.19: */ _BSD_SOURCE
```



# exec函数族

# 用户权限以及组权限

# 解释器文件

# system

# 进程会计

# 进程时间

# 守护进程

# 系统日志